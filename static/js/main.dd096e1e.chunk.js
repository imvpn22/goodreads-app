(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(54)},34:function(e,t,a){},41:function(e,t){},43:function(e,t){},54:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(28),r=a.n(s),c=(a(34),a(4)),i=a(5),l=a(7),u=a(6),h=a(8),m=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={currentPage:3,totalPage:10,pageNeighbours:2},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"pagination"})}}]),t}(o.Component),p=function(e){function t(){var e,a;Object(c.a)(this,t);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).createBookView=function(e){return n.a.createElement("div",{className:"bookCard",key:e.id._text},n.a.createElement("img",{className:"bookImg",src:e.best_book.image_url._text,alt:e.best_book.title._text+" image"}),n.a.createElement("div",{className:"bookTitle"}," ",e.best_book.title._text," "),n.a.createElement("div",{className:"bookAuthor"}," ",e.best_book.author.name._text," "),n.a.createElement("div",{className:"bookRating"},n.a.createElement("i",{className:"fa fa-star"}),e.average_rating._text),n.a.createElement("div",{className:"bookOther"},"Based on ",e.ratings_count._text," Ratings and ",e.text_reviews_count._text," Reviews"))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t="No Books";return this.props.books&&this.props.books.length>0&&(t=this.props.books.map(function(t){return e.createBookView(t)})),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"header"},"Goodreads Book Search"),n.a.createElement("form",{className:"searchForm",onSubmit:function(t){return e.props.handleSubmit(t)}},n.a.createElement("div",{className:"searchBox"},n.a.createElement("input",{type:"text",placeholder:"Book name, author",value:this.props.queryText,onChange:function(t){return e.props.handleQuery(t)},required:!0,autoFocus:!0}),n.a.createElement("button",{type:"submit",value:"Search"},n.a.createElement("i",{className:this.props.isSearching?"fas fa-circle-notch fa-spin":"fas fa-search"}))),n.a.createElement("div",{className:"responseBox"},this.props.msg)),n.a.createElement("div",{className:"bookList"},t),n.a.createElement(m,null))}}]),t}(o.Component),d=a(36),g="tmNs0wHYZNwx5cr20pTg",b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleQuery=function(e){var t=e.target.value;a.setState({queryText:t})},a.searchBook=function(){var e=a.state.queryText,t=a.state.pageNo,o="".concat("https://cors-anywhere.herokuapp.com/","https://www.goodreads.com/search.xml?key=").concat(g,"&q=").concat(e,"&page=").concat(t);fetch(o,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){return e.text()}).then(function(e){var t=d.xml2json(e,{compact:!0,spaces:0,trim:!0,nativeType:!0});t=JSON.parse(t),console.log(t);var o=t.GoodreadsResponse.search.results.work,n=t.GoodreadsResponse.search["total-results"]._text,s=t.GoodreadsResponse.search["query-time-seconds"]._text,r="Fetched ".concat(n," results in ").concat(s," sec."),c=parseInt(n,10)/20;a.setState({books:o,isSearching:!1,msg:r,totalPage:c})}).catch(function(e){console.log(e),a.setState({isSearching:!1,msg:"Some error occured"})})},a.handleSubmit=function(e){e.preventDefault(),a.searchBook(),a.setState({isSearching:!0})},a.state={books:[],queryText:"",isSearching:!1,pageNo:1,totalPage:1,msg:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement(p,{queryText:this.state.queryText,books:this.state.books,handleQuery:this.handleQuery,searchBook:this.searchBook,handleSubmit:this.handleSubmit,isSearching:this.state.isSearching,pageNo:this.state.pageNo,totalPage:this.state.totalPage,msg:this.state.msg}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.dd096e1e.chunk.js.map